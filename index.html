<html>
<head>
<style>
body {
    font: normal 20px Verdana, Arial, sans-serif;
}
input
{
    font-size:24px;
	text-align: right;
}


.tablePF {
        //width: 50%;
        //table-layout: fixed;
        border-collapse: collapse;
}



  .tablePF button {
	  width: 100%;
	  background-color: #4CAF50;
	  border: none;
	  color: white;
	  padding: 10px 32px;
	  text-align: center;
	  text-decoration: none;
	  display: inline-block;
	  font-size: 16px;
	  margin: 4px 1px;
	  cursor: pointer;
  }

  .tableComp {
          //width: 50%;
          //table-layout: fixed;
          border-collapse: collapse;
  }



    .tableComp button {
  	  width: 100%;
  	  background-color: #008CBA;
  	  border: none;
  	  color: white;
  	  padding: 10px 32px;
  	  text-align: center;
  	  text-decoration: none;
  	  display: inline-block;
  	  font-size: 16px;
  	  margin: 4px 2px;
  	  cursor: pointer;
    }


    button[disabled]{
      //border: 1px
      solid #999999;
      background-color: #cccccc;
      color: #666666;

    }




</style>
</head>

<body>

<h2>Annuities</h2>



<script>






var Fv, Pv, x, i, n, m;


function swapPF(){
  if (document.getElementById('PvRad').checked){

    document.getElementById('PvBtn').disabled=false;
    document.getElementById('FvBtn').disabled=true;
    document.getElementById('OBBtn').disabled=false;
    document.getElementById('PvInp').disabled=false;
    document.getElementById('FvInp').disabled=true;
    document.getElementById('OBInp').disabled=false;
    document.getElementById('OBnInp').disabled=false;

  }
  else{
    document.getElementById('FvBtn').disabled=false;
    document.getElementById('OBBtn').disabled=true;
    document.getElementById('PvBtn').disabled=true;
    document.getElementById('FvInp').disabled=false;
    document.getElementById('OBInp').disabled=true;
    document.getElementById('OBnInp').disabled=true;
    document.getElementById('PvInp').disabled=true;
  }
}


function calcPv(x, i, n, m) {
	x = +document.getElementById("xInp").value;
	i = (+document.getElementById("iInp").value)/100;
	n = +document.getElementById("nInp").value;
	m = +document.getElementById("mInp").value;
	Pv = x*(1-Math.pow(1+i/m,-1*n)) / (i/m)
	document.getElementById("PvInp").value = Math.round (Pv*100)/100
}

function calcFv(x, i, n, m) {
	x = +document.getElementById("xInp").value;
	i = (+document.getElementById("iInp").value)/100;
	n = +document.getElementById("nInp").value;
	m = +document.getElementById("mInp").value;
	Fv = x*(Math.pow(1+i/m,n)-1) / (i/m)
	document.getElementById("FvInp").value = Math.round (Fv*100)/100
}

function calcx(Pv, Fv, i, n, m) {
  Pv = +document.getElementById("PvInp").value;
  Fv = +document.getElementById("FvInp").value;
	i = (+document.getElementById("iInp").value)/100;
	n = +document.getElementById("nInp").value;
	m = +document.getElementById("mInp").value;

  if (document.getElementById("PvRad").checked) {
    x = Pv*(i/m) / (1-Math.pow(1+i/m,-1*n))
  }
  else {
    x = Fv*(i/m) / (Math.pow(1+i/m,n)-1)
  }

	document.getElementById("xInp").value = Math.round (x*100)/100
}

function calcn(Pv, Fv, i, x, m) {
  Pv = +document.getElementById("PvInp").value;
  Fv = +document.getElementById("FvInp").value;
	i = (+document.getElementById("iInp").value)/100;
	x = +document.getElementById("xInp").value;
	m = +document.getElementById("mInp").value;

  if (document.getElementById("PvRad").checked) {
    n = -1*(Math.log (1-Pv*(i/m)/x) / Math.log(1+i/m))
  }
  else {
    n = Math.log (1+Fv*(i/m)/x) / Math.log(1+i/m)
  }

	document.getElementById("nInp").value = Math.round (n*100)/100
}

function calcOB(Pv, x, i, n,m){

}

function calcAComp(PComp,i,n,m){
  PComp=+document.getElementById("PCompInp").value;
  i=(+document.getElementById("iCompInp").value)/100;
  n=+document.getElementById("nCompInp").value;
  m=+document.getElementById("mCompInp").value;
  AComp=PComp*Math.pow((1+i/m),n*m);
  document.getElementById("ACompInp").value = Math.round (AComp*100)/100
}

function calcPComp(PComp,i,n,m){
  AComp=+document.getElementById("ACompInp").value;
  i=(+document.getElementById("iCompInp").value)/100;
  n=+document.getElementById("nCompInp").value;
  m=+document.getElementById("mCompInp").value;
  PComp=AComp/Math.pow((1+i/m),n*m);
  document.getElementById("PCompInp").value = Math.round (PComp*100)/100
}

function calciComp(PComp,AComp,n,m){
  AComp=+document.getElementById("ACompInp").value;
  PComp=+document.getElementById("PCompInp").value;
  n=+document.getElementById("nCompInp").value;
  m=+document.getElementById("mCompInp").value;
  i= Math.pow(AComp/PComp,1/(n*m))-1;
  document.getElementById("iCompInp").value = Math.round (i*10000)/100
}

function calcnComp(PComp,AComp,i,m){
  AComp=+document.getElementById("ACompInp").value;
  PComp=+document.getElementById("PCompInp").value;
  i=(+document.getElementById("iCompInp").value)/100;
  m=+document.getElementById("mCompInp").value;
  n= (Math.log(AComp/PComp)/Math.log(1+i/m))/m;
  document.getElementById("nCompInp").value = Math.round (n*100)/100
}

function calcOB(Pv,x,i,n,m){
  Pv = +document.getElementById("PvInp").value;
  x = +document.getElementById("xInp").value;
	i = (+document.getElementById("iInp").value)/100;
	n = +document.getElementById("OBnInp").value;
	m = +document.getElementById("mInp").value;
  AOB=Pv*Math.pow((1+i/m),n);
  FOB=x*(Math.pow(1+i/m,n)-1) / (i/m);
  OB=AOB-FOB;
  document.getElementById("OBInp").value = Math.round (OB*100)/100
}

</script>


<form action="/action_page.php">

  <input type="radio" id="PvRad" name="PorF" value="Pv" checked='yes' onclick="swapPF()">
  <label for="html">Loan / Bond</label><br>
  <input type="radio" id="FvRad" name="PorF" value="Fv" onclick="swapPF()">
  <label for="css">Savings / Sinking Fund</label><br>


<p></p>


<table class=tablePF id="PF_Table" >
  <tr>
    <td style="text-align:right">
		    <input type="text" size ='10' id="PvInp">
	  </td>
    <td>
		    <button type="button", id="PvBtn" onclick="calcPv()">		Present Value (P)		</button>
	  </td>
  </tr>


  <tr>
    <td style="text-align:right">
		<input type="text" size ='10' id="FvInp" disabled="yes">
	  </td>
    <td>
		    <button type="button", id="FvBtn" onclick="calcFv()" disabled="yes">		Future Value (F)		</button>
	  </td>
  </tr>

  <tr>
    <td style="text-align:right">
		<input type="text" size ='10' id="xInp" >
	</td>
    <td>
		<button type="button", id="xBtn" onclick="calcx()">		regular Payment (x)		</button>
	</td>
  </tr>

  <tr>
    <td style="text-align:right">
		<input  type="text" size ='10' id="nInp" >
	</td>
    <td>
		<button type="button", id="nBtn" onclick="calcn()">		number of Payments (n)		</button>
	</td>
  </tr>

  <tr>
    <td style="text-align:right">
		<input type="text" size ='8' id="iInp" size ="18" >%
	</td>
    <td align='center' >
			interest rate p.a. (i)
	</td>
  </tr>

  <tr>
    <td style="text-align:right">

		<input type="text" size ='10' id="mInp" value ='12' >
	</td>
    <td align='center'>
		 times compounded p. a. (m)
	</td>
  </tr>
</table>

<br>

<table class=tablePF id="OB_Table" >
  <tr>
    <td style="text-align:right">

    After <input type="text" size ='3' id="OBnInp" >
  </td>
    <td align='left'>
     payments
  </td>
  </tr>

  <tr>
    <td>
      <button type="button", id="OBBtn" onclick="calcOB()" >		Outstanding Balance:	</button>
  </td>

      <td style="text-align:right">
      <input type="text" size ='9' id="OBInp" size ="18" >
  </td>
  </tr>



</table>
<br>
<hr>
<br>
<h2>Compound Interest</h2>

<table class=tableComp id="PF_Table" >
  <tr>
    <td style="text-align:right">
		    <input type="text" size ='10' id="PCompInp">
	  </td>
    <td>
		    <button type="button", id="PCompBtn" onclick="calcPComp()">		Principal Amount (P)		</button>
	  </td>
  </tr>


  <tr>
    <td style="text-align:right">
		<input type="text" size ='10' id="ACompInp" >
	  </td>
    <td>
		    <button type="button", id="ACompBtn" onclick="calcAComp()" >		Accumulated Amount (A)		</button>
	  </td>
  </tr>

  <tr>
    <td style="text-align:right">
		<input type="text" size ='8' id="iCompInp" >%
	</td>
    <td>
		<button type="button", id="iCompBtn" onclick="calciComp()">		interest rate p.a. (i)		</button>
	</td>
  </tr>

  <tr>
    <td style="text-align:right">
		<input  type="text" size ='10' id="nCompInp" >
	</td>
    <td>
		<button type="button", id="nCompBtn" onclick="calcnComp()">		number of years (n)		</button>
	</td>
  </tr>



  <tr>
    <td style="text-align:right">

		<input type="text" size ='10' id="mCompInp" value ='1' >
	</td>
    <td align='center'>
		 times compounded p. a. (m)
	</td>
  </tr>
</table>

</body>
</html>
